Name: vala
Summary: A modern programming language for GNOME
Version: 0.16.1
Release: 1
Group: Development/Languages
License: LGPLv2+ and BSD
URL: http://live.gnome.org/Vala
Sources:
    - http://download.gnome.org/sources/vala/0.16/vala-%{version}.tar.xz
Patches:
    - disable-bootstrap.patch
Description: |
    Vala is a new programming language that aims to bring modern programming
    language features to GNOME developers without imposing any additional
    runtime requirements and without using a different ABI compared to
    applications and libraries written in C.
    
    valac, the Vala compiler, is a self-hosting compiler that translates
    Vala source code into C source and header files. It uses the GObject
    type system to create classes and interfaces declared in the Vala source
    code. It's also planned to generate GIDL files when gobject-
    introspection is ready.
    
    The syntax of Vala is similar to C#, modified to better fit the GObject
    type system.

PkgBR:
    - flex
    - bison
PkgConfigBR:
    - glib-2.0
SetupOptions: -q -n %{name}-%{version}/%{name}
Configure: configure
ConfigOptions:
    - --enable-vapigen
Builder: make
SubPackages:
    - Name: doc
      Summary: Documentation for %{name}
      Group: Documentation
      License: LGPLv2+
      Description: |
          Vala is a new programming language that aims to bring modern programming
          language features to GNOME developers without imposing any additional
          runtime requirements and without using a different ABI compared to
          applications and libraries written in C.
          
          This package contains documentation in a devhelp HTML book.
      Requires:
          - devhelp

    - Name: tools
      Summary: Tools for creating projects and bindings for %{name}
      Group: Development/Languages
      License: LGPLv2+
      Description: |
          Vala is a new programming language that aims to bring modern programming
          language features to GNOME developers without imposing any additional
          runtime requirements and without using a different ABI compared to
          applications and libraries written in C.
          
          This package contains tools to generate Vala projects, as well as API bindings
          from existing C libraries, allowing access from Vala programs.
      Requires:
          - gnome-common
          - intltool
          - libtool

    - Name: devel
      Summary: Development files for %{name}
      Group: Development/Libraries
      Description: |
          Vala is a new programming language that aims to bring modern programming
          language features to GNOME developers without imposing any additional
          runtime requirements and without using a different ABI compared to
          applications and libraries written in C.
          
          This package contains development files for %{name}. This is not necessary for
          using the %{name} compiler.

